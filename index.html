<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- Unified Cloud Sync -->
    <script src="https://thelightparkops.com/shared/cloud-sync.js"></script>
    <title>The Light Park | Employee</title>
  
  <!-- TLP Cloud Sync -->
  <script>
    const TLP_SUPABASE_URL = 'https://gwjtfcrgpxclixonogpe.supabase.co';
    const TLP_SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3anRmY3JncHhjbGl4b25vZ3BlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMzQzOTUsImV4cCI6MjA4NTkxMDM5NX0.qM1-_VA1Dsx_nsWkeoAJvNWNgSuuwApPBGoJU32X3-I';
    const APP_NAME = 'employee_app';
    
    window.CloudSync = {
      online: navigator.onLine,
      async save(key, data) {
        localStorage.setItem(`${APP_NAME}_${key}`, JSON.stringify(data));
        if (!this.online) return { synced: false };
        try {
          const existing = await fetch(`${TLP_SUPABASE_URL}/rest/v1/app_data?app_data=eq.${APP_NAME}&data_key=eq.${key}&select=id`,
            { headers: { 'apikey': TLP_SUPABASE_KEY, 'Authorization': `Bearer ${TLP_SUPABASE_KEY}` }}).then(r => r.json());
          const method = existing.length > 0 ? 'PATCH' : 'POST';
          const url = existing.length > 0 ? `${TLP_SUPABASE_URL}/rest/v1/app_data?id=eq.${existing[0].id}` : `${TLP_SUPABASE_URL}/rest/v1/app_data`;
          const body = existing.length > 0 ? { data, updated_at: new Date().toISOString() } : { app_data: APP_NAME, data_key: key, data };
          await fetch(url, { method, headers: { 'apikey': TLP_SUPABASE_KEY, 'Authorization': `Bearer ${TLP_SUPABASE_KEY}`, 'Content-Type': 'application/json', 'Prefer': 'return=minimal' }, body: JSON.stringify(body) });
          return { synced: true };
        } catch (e) { return { synced: false }; }
      },
      async load(key) {
        if (this.online) {
          try {
            const result = await fetch(`${TLP_SUPABASE_URL}/rest/v1/app_data?app_data=eq.${APP_NAME}&data_key=eq.${key}&select=data`,
              { headers: { 'apikey': TLP_SUPABASE_KEY, 'Authorization': `Bearer ${TLP_SUPABASE_KEY}` }}).then(r => r.json());
            if (result.length > 0) { localStorage.setItem(`${APP_NAME}_${key}`, JSON.stringify(result[0].data)); return result[0].data; }
          } catch (e) {}
        }
        const local = localStorage.getItem(`${APP_NAME}_${key}`);
        return local ? JSON.parse(local) : null;
      }
    };
    window.addEventListener('online', () => CloudSync.online = true);
    window.addEventListener('offline', () => CloudSync.online = false);
  </script>
  
  <style>
    :root {
      --bg: #0a0a0f;
      --surface: #12121a;
      --surface2: #1a1a25;
      --border: #2a2a3a;
      --text: #f0f0f5;
      --text-dim: #8888a0;
      --purple: #a855f7;
      --teal: #06d6a0;
      --pink: #ec4899;
      --red: #ef4444;
      --orange: #f97316;
      --green: #22c55e;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      max-width: 500px;
      margin: 0 auto;
    }
    
    /* Splash Screen */
    #splash {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100vh;
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s;
    }
    #splash.hidden { opacity: 0; pointer-events: none; }
    #splash img { max-width: 70%; max-height: 30vh; margin-bottom: 20px; }
    .splash-text { color: var(--text-dim); font-size: 14px; }
    
    /* Header */
    .header {
      background: var(--surface);
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 14px;
      border-bottom: 1px solid var(--border);
    }
    
    .avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--purple), var(--pink));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: 700;
    }
    
    .user-info { flex: 1; }
    .user-name { font-weight: 700; font-size: 18px; }
    .user-role { font-size: 13px; color: var(--text-dim); }
    
    .clock-status {
      padding: 8px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
    }
    .clock-status.in { background: rgba(34, 197, 94, 0.2); color: var(--green); }
    .clock-status.out { background: rgba(239, 68, 68, 0.2); color: var(--red); }
    
    /* Clock In Button */
    .clock-section {
      padding: 24px 20px;
      text-align: center;
      border-bottom: 1px solid var(--border);
    }
    
    .clock-btn {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      border: 4px solid var(--green);
      background: rgba(34, 197, 94, 0.1);
      color: var(--green);
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 0 auto 16px;
    }
    
    .clock-btn:hover {
      background: rgba(34, 197, 94, 0.2);
      transform: scale(1.05);
    }
    
    .clock-btn.clocked-in {
      border-color: var(--red);
      background: rgba(239, 68, 68, 0.1);
      color: var(--red);
    }
    
    .clock-time {
      font-size: 32px;
      margin-bottom: 4px;
    }
    
    .clock-label {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
    }
    
    .tab {
      flex: 1;
      padding: 14px;
      background: none;
      border: none;
      color: var(--text-dim);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
    }
    
    .tab:hover { color: var(--text); }
    .tab.active { color: var(--purple); border-bottom-color: var(--purple); }
    
    /* Content */
    .content {
      padding: 20px;
    }
    
    .section-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    /* Schedule Card */
    .schedule-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
    }
    
    .schedule-date {
      font-weight: 700;
      margin-bottom: 4px;
    }
    
    .schedule-today {
      color: var(--teal);
    }
    
    .schedule-time {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .schedule-details {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .schedule-badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      margin-top: 10px;
    }
    
    .schedule-badge.today { background: rgba(6, 214, 160, 0.2); color: var(--teal); }
    .schedule-badge.upcoming { background: var(--surface2); color: var(--text-dim); }
    
    /* Hours Card */
    .hours-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
    }
    
    .hours-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .hours-title { font-weight: 700; }
    .hours-period { font-size: 13px; color: var(--text-dim); }
    
    .hours-big {
      font-size: 48px;
      font-weight: 700;
      color: var(--teal);
      margin-bottom: 8px;
    }
    
    .hours-label {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .hours-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
      font-size: 14px;
    }
    
    .hours-row:last-child { border-bottom: none; }
    
    /* Rewards Section */
    .rewards-card {
      background: linear-gradient(135deg, var(--purple), var(--pink));
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
    }
    
    .rewards-card::before {
      content: "üèÜ";
      position: absolute;
      right: -10px;
      top: -10px;
      font-size: 80px;
      opacity: 0.2;
    }
    
    .rewards-label { font-size: 13px; opacity: 0.9; margin-bottom: 4px; }
    .rewards-amount { font-size: 36px; font-weight: 700; margin-bottom: 8px; }
    .rewards-detail { font-size: 13px; opacity: 0.8; }
    
    .my-rank {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      margin-bottom: 16px;
    }
    
    .rank-number {
      font-size: 48px;
      font-weight: 700;
      color: var(--teal);
    }
    
    .rank-label {
      font-size: 13px;
      color: var(--text-dim);
    }
    
    .challenge-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
    }
    
    .challenge-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }
    
    .challenge-icon { font-size: 28px; }
    .challenge-title { font-weight: 700; flex: 1; }
    .challenge-reward { color: var(--teal); font-weight: 700; }
    
    .challenge-progress {
      height: 8px;
      background: var(--surface2);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 8px;
    }
    
    .challenge-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--teal), var(--green));
      border-radius: 4px;
    }
    
    .challenge-status {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    /* Updates Section */
    .update-item {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px 16px;
      margin-bottom: 10px;
      display: flex;
      gap: 12px;
    }
    
    .update-icon { font-size: 20px; }
    .update-text { flex: 1; }
    .update-title { font-weight: 600; margin-bottom: 4px; }
    .update-body { font-size: 13px; color: var(--text-dim); }
    .update-time { font-size: 11px; color: var(--text-dim); white-space: nowrap; }
    
    /* Paycor Link */
    .paycor-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .paycor-card:hover { background: var(--surface2); }
    
    .paycor-logo {
      width: 48px;
      height: 48px;
      background: #00a0df;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 12px;
    }
    
    .paycor-text { flex: 1; }
    .paycor-title { font-weight: 700; }
    .paycor-desc { font-size: 13px; color: var(--text-dim); }
    .paycor-arrow { font-size: 20px; color: var(--text-dim); }
    
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <!-- Splash -->
  <div id="splash">
    <img src="logo.png" alt="The Light Park">
    <div class="splash-text">Employee Portal</div>
  </div>
  
  <!-- Header -->
  <div class="header">
    <div class="avatar">MG</div>
    <div class="user-info">
      <div class="user-name">Maria Garcia</div>
      <div class="user-role">Photo Tent ‚Äî Katy</div>
    </div>
    <div class="clock-status in">‚óè Clocked In</div>
  </div>
  
  <!-- Clock Section -->
  <div class="clock-section">
    <button class="clock-btn clocked-in" onclick="toggleClock()">
      <div class="clock-time" id="currentTime">7:42 PM</div>
      <div>TAP TO<br>CLOCK OUT</div>
    </button>
    <div class="clock-label">Clocked in at 5:02 PM ‚Ä¢ 2h 40m today</div>
  </div>
  
  <!-- Tabs -->
  <div class="tabs">
    <button class="tab active" onclick="showTab('schedule')">üìÖ Schedule</button>
    <button class="tab" onclick="showTab('hours')">‚è±Ô∏è Hours</button>
    <button class="tab" onclick="showTab('rewards')">üèÜ Rewards</button>
    <button class="tab" onclick="showTab('updates')">üì¢ Updates</button>
  </div>
  
  <!-- Schedule Tab -->
  <div class="content" id="tab-schedule">
    <div class="section-title">üìÖ My Schedule</div>
    
    <div class="schedule-card">
      <div class="schedule-date schedule-today">Today ‚Äî Friday, Feb 6</div>
      <div class="schedule-time">5:00 PM - 10:00 PM</div>
      <div class="schedule-details">üì∏ Photo Tent ‚Ä¢ Katy</div>
      <span class="schedule-badge today">Currently Working</span>
    </div>
    
    <div class="schedule-card">
      <div class="schedule-date">Tomorrow ‚Äî Saturday, Feb 7</div>
      <div class="schedule-time">4:00 PM - 11:00 PM</div>
      <div class="schedule-details">üì∏ Photo Tent ‚Ä¢ Katy</div>
      <span class="schedule-badge upcoming">7 hours</span>
    </div>
    
    <div class="schedule-card">
      <div class="schedule-date">Sunday, Feb 8</div>
      <div class="schedule-time">5:00 PM - 10:00 PM</div>
      <div class="schedule-details">üì∏ Photo Tent ‚Ä¢ Katy</div>
      <span class="schedule-badge upcoming">5 hours</span>
    </div>
    
    <div class="schedule-card">
      <div class="schedule-date">Monday, Feb 9</div>
      <div class="schedule-time">‚Äî</div>
      <div class="schedule-details">Day Off</div>
    </div>
  </div>
  
  <!-- Hours Tab -->
  <div class="content hidden" id="tab-hours">
    <div class="section-title">‚è±Ô∏è My Hours</div>
    
    <div class="paycor-card" onclick="window.open('https://www.paycor.com', '_blank')">
      <div class="paycor-logo">PC</div>
      <div class="paycor-text">
        <div class="paycor-title">View in Paycor</div>
        <div class="paycor-desc">Full pay stubs, tax docs, benefits</div>
      </div>
      <div class="paycor-arrow">‚Üí</div>
    </div>
    
    <div class="hours-card">
      <div class="hours-header">
        <div class="hours-title">This Pay Period</div>
        <div class="hours-period">Jan 27 - Feb 9</div>
      </div>
      <div class="hours-big">32.5</div>
      <div class="hours-label">hours worked</div>
    </div>
    
    <div class="hours-card">
      <div class="hours-header">
        <div class="hours-title">Recent Shifts</div>
      </div>
      <div class="hours-row">
        <span>Today (in progress)</span>
        <span style="color: var(--teal);">2h 40m</span>
      </div>
      <div class="hours-row">
        <span>Thu, Feb 5</span>
        <span>5.0 hrs</span>
      </div>
      <div class="hours-row">
        <span>Wed, Feb 4</span>
        <span>6.0 hrs</span>
      </div>
      <div class="hours-row">
        <span>Sun, Feb 1</span>
        <span>5.5 hrs</span>
      </div>
      <div class="hours-row">
        <span>Sat, Jan 31</span>
        <span>7.0 hrs</span>
      </div>
    </div>
  </div>
  
  <!-- Rewards Tab -->
  <div class="content hidden" id="tab-rewards">
    <div class="section-title">üèÜ My Rewards</div>
    
    <div class="rewards-card">
      <div class="rewards-label">Season Earnings</div>
      <div class="rewards-amount">$285</div>
      <div class="rewards-detail">From upsells & bonuses</div>
    </div>
    
    <div class="my-rank">
      <div class="rank-number">#4</div>
      <div class="rank-label">Your Season Ranking (out of 89)</div>
    </div>
    
    <div class="section-title">üéØ Active Challenges</div>
    
    <div class="challenge-card">
      <div class="challenge-header">
        <div class="challenge-icon">üéÅ</div>
        <div class="challenge-title">Blitzen Bundle Bonus</div>
        <div class="challenge-reward">+$25</div>
      </div>
      <div class="challenge-progress">
        <div class="challenge-bar" style="width: 73%;"></div>
      </div>
      <div class="challenge-status">11 of 15 sold tonight ‚Äî 4 more to go!</div>
    </div>
    
    <div class="challenge-card">
      <div class="challenge-header">
        <div class="challenge-icon">‚ö°</div>
        <div class="challenge-title">Upsell Streak</div>
        <div class="challenge-reward">+$5</div>
      </div>
      <div class="challenge-progress">
        <div class="challenge-bar" style="width: 66%;"></div>
      </div>
      <div class="challenge-status">2 of 3 in a row ‚Äî 1 more for instant bonus!</div>
    </div>
    
    <div class="challenge-card">
      <div class="challenge-header">
        <div class="challenge-icon">üëë</div>
        <div class="challenge-title">Weekly Champion</div>
        <div class="challenge-reward">$100</div>
      </div>
      <div class="challenge-progress">
        <div class="challenge-bar" style="width: 85%;"></div>
      </div>
      <div class="challenge-status">You're #2 this week ‚Äî $892 sales. Leader has $1,045.</div>
    </div>
    
    <div class="section-title" style="margin-top: 24px;">üí∏ Recent Rewards</div>
    
    <div class="update-item">
      <div class="update-icon">üíµ</div>
      <div class="update-text">
        <div class="update-title">+$25 Blitzen Bonus</div>
        <div class="update-body">Hit 15 bundles on Feb 1</div>
      </div>
      <div class="update-time">Feb 1</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üíµ</div>
      <div class="update-text">
        <div class="update-title">+$5 Streak Bonus</div>
        <div class="update-body">3 upsells in a row</div>
      </div>
      <div class="update-time">Jan 31</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üíµ</div>
      <div class="update-text">
        <div class="update-title">+$100 Weekly Champion</div>
        <div class="update-body">Top seller Jan 20-26</div>
      </div>
      <div class="update-time">Jan 27</div>
    </div>
  </div>
  
  <!-- Updates Tab -->
  <div class="content hidden" id="tab-updates">
    <div class="section-title">üì¢ Updates</div>
    
    <div class="update-item">
      <div class="update-icon">üéâ</div>
      <div class="update-text">
        <div class="update-title">New Bonus Challenge!</div>
        <div class="update-body">Sell 15 Blitzen Bundles tonight and earn $25 cash bonus.</div>
      </div>
      <div class="update-time">2h ago</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üìã</div>
      <div class="update-text">
        <div class="update-title">Schedule Updated</div>
        <div class="update-body">Your shift on Feb 8 moved from 4pm to 5pm.</div>
      </div>
      <div class="update-time">Today</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üåü</div>
      <div class="update-text">
        <div class="update-title">Great Job!</div>
        <div class="update-body">You were the #2 seller last night! Keep it up.</div>
      </div>
      <div class="update-time">Yesterday</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">‚ùÑÔ∏è</div>
      <div class="update-text">
        <div class="update-title">Weather Advisory</div>
        <div class="update-body">Expected high of 42¬∞F Saturday. Dress warm!</div>
      </div>
      <div class="update-time">2 days ago</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üì¢</div>
      <div class="update-text">
        <div class="update-title">Team Meeting</div>
        <div class="update-body">All Photo Tent staff meeting Feb 10 at 4pm before shift.</div>
      </div>
      <div class="update-time">3 days ago</div>
    </div>
    
    <div class="update-item">
      <div class="update-icon">üí∞</div>
      <div class="update-text">
        <div class="update-title">Payday!</div>
        <div class="update-body">Your paycheck has been deposited. Check Paycor for details.</div>
      </div>
      <div class="update-time">Jan 31</div>
    </div>
  </div>
  
  <script>
    // Splash screen
    setTimeout(() => document.getElementById('splash').classList.add('hidden'), 1500);
    
    // Tab switching
    function showTab(tabId) {
      document.querySelectorAll('.content').forEach(el => el.classList.add('hidden'));
      document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
      document.getElementById('tab-' + tabId).classList.remove('hidden');
      event.target.classList.add('active');
    }
    
    // Update clock
    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      const mins = now.getMinutes().toString().padStart(2, '0');
      const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12 || 12;
      document.getElementById('currentTime').textContent = `${hours}:${mins} ${ampm}`;
    }
    updateClock();
    setInterval(updateClock, 1000);
    
    // Toggle clock in/out
    function toggleClock() {
      const btn = document.querySelector('.clock-btn');
      btn.classList.toggle('clocked-in');
      if (btn.classList.contains('clocked-in')) {
        btn.innerHTML = `<div class="clock-time" id="currentTime">${document.getElementById('currentTime').textContent}</div><div>TAP TO<br>CLOCK OUT</div>`;
      } else {
        btn.innerHTML = `<div class="clock-time" id="currentTime">${document.getElementById('currentTime').textContent}</div><div>TAP TO<br>CLOCK IN</div>`;
      }
      updateClock();
    }
  </script>
</body>
</html>
